{{ form_start(form) }}
    {{ form_row(form.name) }}
    {{ form_row(form.description) }}
    {{ form_row(form.isPublic) }}
    {{ form_row(form.activityType) }}
    {{ form_row(form.season) }}

    <div {{ stimulus_controller('form-collection') }}
        data-form-collection-index-value="{{ form.kitItems|length > 0 ? form.kitItems|last.vars.name + 1 : 0 }}"
        data-form-collection-prototype-value="{{ form_widget(form.kitItems.vars.prototype)|e('html_attr') }}"
    >
        <ul class="kit-items" {{ stimulus_target('form-collection', 'collectionContainer') }}>
            {% for kitItem in form.kitItems %}
                <div data-controller="filter">
                    {{ form_row(kitItem.category, {'attr': {'data-filter-target': 'category'}}) }}
                    {{ form_row(kitItem.item, {'attr': {'data-filter-target': 'item'}}) }}
                    {{ form_row(kitItem.variant, {'attr': {'data-filter-target': 'variant'}}) }}
                    {{ form_row(kitItem) }}
                </div>
            {% endfor %}
        </ul>
        <button type="button" {{ stimulus_action('form-collection', 'addCollectionElement') }}>Add a tag</button>
    </div>

    <button class="btn">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}
